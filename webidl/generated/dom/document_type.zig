// Auto-generated by webidl-codegen
// DO NOT EDIT - changes will be overwritten
//
// This file was generated from the source file with the same name.
// Class definitions have been enhanced with:
//   - Inherited methods from parent classes
//   - Property getters and setters
//   - Optimized field layouts

//! DocumentType interface per WHATWG DOM Standard
//! Spec: https://dom.spec.whatwg.org/#interface-documenttype
//!
//! DocumentType nodes represent the DOCTYPE declaration in an HTML or XML document.

const std = @import("std");
const webidl = @import("webidl");

const Node = @import("node").Node;
/// DocumentType WebIDL interface
/// Spec: https://dom.spec.whatwg.org/#interface-documenttype
/// 
/// ```webidl
/// [Exposed=Window]
/// interface DocumentType : Node {
/// readonly attribute DOMString name;
/// readonly attribute DOMString publicId;
/// readonly attribute DOMString systemId;
/// };
/// ```
pub const DocumentType = struct {
    const Self = @This();

    /// Allocator for memory management
    allocator: std.mem.Allocator,
    /// The doctype's name (e.g., "html" for HTML documents)
    /// Spec: https://dom.spec.whatwg.org/#concept-doctype-name
    name: []const u8,
    /// The doctype's public ID (e.g., "-//W3C//DTD HTML 4.01//EN")
    /// Spec: https://dom.spec.whatwg.org/#concept-doctype-publicid
    /// Empty string if not specified
    publicId: []const u8,
    /// The doctype's system ID (e.g., "http://www.w3.org/TR/html4/strict.dtd")
    /// Spec: https://dom.spec.whatwg.org/#concept-doctype-systemid
    /// Empty string if not specified
    systemId: []const u8,

    /// Create a new DocumentType node
    /// Spec: https://dom.spec.whatwg.org/#concept-doctype
    /// 
    /// Per spec: "When a doctype is created, its name is always given.
    /// Unless explicitly given when a doctype is created, its public ID
    /// and system ID are the empty string."
    pub fn init(
        allocator: std.mem.Allocator,
        name: []const u8,
        public_id: ?[]const u8,
        system_id: ?[]const u8,
    ) !Self {
        const name_copy = try allocator.dupe(u8, name);
        errdefer allocator.free(name_copy);

        const publicIdCopy = if (public_id) |pid|
            try allocator.dupe(u8, pid)
        else
            try allocator.dupe(u8, "");
        errdefer allocator.free(publicIdCopy);

        const systemIdCopy = if (system_id) |sid|
            try allocator.dupe(u8, sid)
        else
            try allocator.dupe(u8, "");
        errdefer allocator.free(systemIdCopy);

        return Self{
            .allocator = allocator,
            .name = name_copy,
            .publicId = publicIdCopy,
            .systemId = systemIdCopy,
        };
    }
    pub fn deinit(self: *Self) void {
        self.allocator.free(self.name);
        self.allocator.free(self.publicId);
        self.allocator.free(self.systemId);
    }

    /// Get the doctype's name
    /// Spec: https://dom.spec.whatwg.org/#dom-documenttype-name
    pub fn get_name(self: *const Self) webidl.DOMString {
        return self.name;
    }
    /// Get the doctype's public ID
    /// Spec: https://dom.spec.whatwg.org/#dom-documenttype-publicid
    pub fn get_publicId(self: *const Self) webidl.DOMString {
        return self.publicId;
    }
    /// Get the doctype's system ID
    /// Spec: https://dom.spec.whatwg.org/#dom-documenttype-systemid
    pub fn get_systemId(self: *const Self) webidl.DOMString {
        return self.systemId;
    }
};

